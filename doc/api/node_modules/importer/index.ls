require! {
	fs
	node-path: path

	'loader'
}



export read = (path) -> fs.readFileSync path, 'utf-8'

export class Importer
	(@module) ~>
		@modDir = node-path.dirname @module.filename
		@loader = loader.Loader @module

	readFromModuleDir: (filename) -> read node-path.join @modDir, filename

	catch: -> @readFromModuleDir 'catch.html'
	desc: -> @readFromModuleDir 'desc.html'
	ex: -> @readFromModuleDir 'ex.hsp'
	sample: -> @readFromModuleDir 'sample.hsp'

	entries: (submodules) ->
		entries = []
		for submodule in submodules
			entries ++= @loader.reload submodule

		entries
