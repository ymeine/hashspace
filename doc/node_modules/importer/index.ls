require! {
	fs
	node-path: path
}

export read = (path) -> fs.readFileSync path, 'utf-8'

export class Importer
	(@module) ~>
		@modDir = node-path.dirname @module.filename

	fromModuleDir: (filename) -> "#{@modDir}/#filename"

	readFromModule: (filename) -> read @fromModuleDir filename

	catch: -> @readFromModule 'catch.html'
	desc: -> @readFromModule 'desc.html'
	ex: -> @readFromModule 'ex.hsp'
	sample: -> @readFromModule 'sample.hsp'

	entries: (submodules) ->
		entries = []
		for submodule in submodules
			part = require @fromModuleDir submodule
			entries ++= part

		entries
